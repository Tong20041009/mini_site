<!-- ========= Mini Games =========== -->
<section id="games" class="games-wrap">
  <h2>ğŸ® å°æ¸¸æˆ</h2>
  <div class="games-grid">
    <!-- Game 1: ååº”åŠ›æµ‹è¯• -->
    <div class="card">
      <h3>ååº”åŠ›æµ‹è¯•</h3>
      <p class="muted">å˜ç»¿å°±ç‚¹ï¼Œçœ‹ä½ å¤šå¿«ï¼</p >
      <div id="rt-box" class="box">ç‚¹å‡»å¼€å§‹</div>
      <div id="rt-info" class="muted"></div>
    </div>

    <!-- Game 2: çŒœæ•°å­— -->
    <div class="card">
      <h3>çŒœæ•°å­—ï¼ˆ1~100ï¼‰</h3>
      <p class="muted">æˆ‘æƒ³äº†ä¸€ä¸ªæ•°ï¼Œæ¥çŒœå§ï¼</p >
      <div>
        <input id="g-input" type="number" min="1" max="100" placeholder="è¾“å…¥ 1~100">
        <button id="g-btn">çŒœ</button>
      </div>
      <div id="g-hint" class="muted" style="margin-top:8px;"></div>
      <button id="g-restart" class="link" style="display:none;margin-top:6px;">å†æ¥ä¸€å±€</button>
    </div>

    <!-- Game 3: çŸ³å¤´å‰ªåˆ€å¸ƒ -->
    <div class="card">
      <h3>çŸ³å¤´å‰ªåˆ€å¸ƒ</h3>
      <div class="rps-btns">
        <button data-rps="çŸ³å¤´">âœŠ çŸ³å¤´</button>
        <button data-rps="å‰ªåˆ€">âœŒï¸ å‰ªåˆ€</button>
        <button data-rps="å¸ƒ">ğŸ– å¸ƒ</button>
      </div>
      <div id="rps-out" class="muted" style="margin-top:8px;"></div>
      <div id="rps-score" class="muted"></div>
    </div>
  </div>
</section>

<style>
  .games-wrap{max-width:980px;margin:40px auto;padding:0 16px}
  .games-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{background:#151922;border:1px solid #232732;border-radius:14px;padding:16px}
  .muted{color:#9aa3af}
  .box{
    user-select:none; display:flex; align-items:center; justify-content:center;
    height:120px;border-radius:10px;border:1px dashed #2b3240;background:#1b2230;color:#9aa3af;cursor:pointer
  }
  .box.ready{background:#eab308;color:#0f1115} /* é»„ï¼šç­‰å¾…å˜ç»¿ */
  .box.go{background:#22c55e;color:#0f1115}    /* ç»¿ï¼šç‚¹ï¼ */
  .rps-btns button, #g-btn{
    background:#3a6ff7;color:#fff;border:0;border-radius:10px;padding:8px 12px;margin:4px;cursor:pointer
  }
  input[type=number]{padding:8px;border-radius:8px;border:1px solid #2b3240;background:#0f1115;color:#e6e6e6}
  .link{background:#2b3240;color:#e6e6e6;border:0;border-radius:10px;padding:6px 10px;cursor:pointer}
</style>

<script>
/* ====== Game 1: ååº”åŠ›æµ‹è¯• ====== */
(()=>{
  const box = document.getElementById('rt-box');
  const info = document.getElementById('rt-info');
  let timer, startAt, state='idle';
  function resetUI(){ box.className='box'; box.textContent='ç‚¹å‡»å¼€å§‹'; info.textContent=''; state='idle'; }
  function waitPhase(){
    state='wait';
    box.classList.add('ready'); box.textContent='å˜ç»¿å°±ç‚¹ï¼';
    const delay = 1000 + Math.random()*2000;
    timer = setTimeout(()=>{
      state='go'; startAt=performance.now();
      box.classList.remove('ready'); box.classList.add('go'); box.textContent='ç‚¹ï¼ç‚¹ï¼ç‚¹ï¼';
    }, delay);
  }
  box.addEventListener('click', ()=>{
    if(state==='idle'){ waitPhase(); return; }
    if(state==='wait'){ clearTimeout(timer); info.textContent='å¤ªç€æ€¥äº† ğŸ˜‚ å†æ¥ï¼'; resetUI(); return; }
    if(state==='go'){
      const t = Math.round(performance.now()-startAt);
      info.textContent = `ä½ çš„ååº”æ—¶é—´ï¼š${t} ms`;
      resetUI();
    }
  });
})();

/* ====== Game 2: çŒœæ•°å­— ====== */
(()=>{
  const input = document.getElementById('g-input');
  const btn = document.getElementById('g-btn');
  const hint = document.getElementById('g-hint');
  const again = document.getElementById('g-restart');
  let target = 1 + Math.floor(Math.random()*100), times = 0;

  function restart(){
    target = 1 + Math.floor(Math.random()*100);
    times = 0; hint.textContent='æ–°çš„ä¸€å±€å¼€å§‹ï½'; again.style.display='none'; input.value='';
  }
  btn.onclick = ()=>{
    const v = Number(input.value);
    if(!v || v<1 || v>100){ hint.textContent='è¯·è¾“å…¥ 1~100 çš„æ•´æ•°'; return; }
    times++;
    if(v===target){ hint.textContent=`ğŸ‰ çŒœå¯¹å•¦ï¼ç”¨äº† ${times} æ¬¡`; again.style.display='inline-block'; }
    else if(v<target){ hint.textContent='å†å¤§ä¸€ç‚¹ â†‘'; }
    else{ hint.textContent='å†å°ä¸€ç‚¹ â†“'; }
  };
  again.onclick = restart;
})();

/* ====== Game 3: çŸ³å¤´å‰ªåˆ€å¸ƒ ====== */
(()=>{
  const out = document.getElementById('rps-out');
  const score = document.getElementById('rps-score');
  let me=0, ai=0;
  const map = ['çŸ³å¤´','å‰ªåˆ€','å¸ƒ'];
  function judge(a,b){ // è¿”å› 1 æˆ‘èµ¢ï¼Œ-1 æˆ‘è¾“ï¼Œ0 å¹³
    if(a===b) return 0;
    if((a==='çŸ³å¤´'&&b==='å‰ªåˆ€')||(a==='å‰ªåˆ€'&&b==='å¸ƒ')||(a==='å¸ƒ'&&b==='çŸ³å¤´')) return 1;
    return -1;
  }
  document.querySelectorAll('[data-rps]').forEach(btn=>{
    btn.onclick = ()=>{
      const mine = btn.dataset.rps;
      const robot = map[Math.floor(Math.random()*3)];
      const r = judge(mine, robot);
      if(r>0){ me++; out.textContent = `ä½ å‡º ${mine}ï¼Œæˆ‘å‡º ${robot} â†’ ä½ èµ¢äº†ï¼`; }
      else if(r<0){ ai++; out.textContent = `ä½ å‡º ${mine}ï¼Œæˆ‘å‡º ${robot} â†’ æˆ‘èµ¢äº†ï½`; }
      else{ out.textContent = `éƒ½å‡º ${mine} â†’ å¹³å±€`; }
      score.textContent = `æ¯”åˆ†ï¼šä½  ${me} : ${ai} ç”µè„‘`;
    };
  });
})();
</script>
<!-- ========= Mini Games END =========== -->